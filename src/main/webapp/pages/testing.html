<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <link type="text/css" rel='stylesheet' href='../static/spider-behavior.css'/>
  <title>Arachnolingua Test Page</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content=""/>
  <meta name="author" content="Peter E. Midford"/>
  <link href="../static/bootstrap/css/bootstrap.css" rel="stylesheet"/>
  <style type="text/css">
    body {
      padding-top: 60px;
      padding-bottom: 40px;
    }
  </style>
  <link href="../static/bootstrap/css/bootstrap-responsive.css" rel="stylesheet"/>
</head>

<body>
  <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <button class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse" type="button">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <img class="brand" src="../static/spiderwords_small.jpg" alt="spider words" width="32" height="19"/>
        <div class="nav-collapse collapse">
          <ul class="nav">
            <li>
              <a href="../index.html">Home</a>
            </li>
            <li>
              <a href="project.html">About</a>
            </li>
            <li>
              <a href="taxonomy.html">Taxonomy Status</a>
            </li>
            <li>
              <a href="curation.html">Curation</a>
            </li>
            <li class="active">
              <a href="#">Test Sesame Server</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="page-header">
      <h1 class="arachb_headline">Triple Store Testing Page</h1>
    </div>

    <section id="tests">
      <div class="row-fluid">
        <div class="span12">
         <p id="test_query">Test query</p>
          <h3>Testing API calls</h3>
          <button id="API_button">Test call to taxon API</button>
          <p id="service_test">Testing API call</p>
          <br/>
          <h3>Testing API calls</h3>
          <p id="test_query2">Test query2</p>
          <button id="API_button2">Test call to publication API</button>
          <p id="service_test2">Testing API call</p>
          <h3>Testing API calls</h3>
          <p id="test_query3">Test query3</p>
          <button id="API_button3">Test call to taxon/events API</button>
          <p id="service_test3">Testing API call</p>
        </div>
      </div>
    </section>
  </div>
  <hr/>
  <footer>
    <p>Last update 2 July 2015</p>
  </footer>

  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js">
  </script>
  <script type="text/javascript" src="../static/publicationtable.js">
  </script>
  <script type="text/javascript" src="../static/bootstrap/js/bootstrap.min.js">
  </script>
  <script type="text/javascript" src="../static/json2.js">
  </script>

  <script type="text/javascript"> //<![CDATA[

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30972937-1']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  //]]>

 </script>  
      
<script type="text/javascript" src="../static/env.js">    
</script>
  
 <script type="text/javascript">  //<![CDATA[
   
   $(document).ready(function(){
    $("#API_button").click(function(){
       var urlstr = myhost+"taxon?taxon=Cupiennius+salei"   
       $.ajax({
         url: urlstr,
         dataType: "text"
       }
       ).done(function(data, testStatus, jqXHR){$("#service_test").html("<p>Test return: </p>"  +  data)})
       .fail(function(jqXHR, textStatus, errorThrown) { alert("error: " + textStatus); });
      });
    $("#API_button3").click(function(){
       var urlstr = myhost+"taxon/events?taxon=Leucauge+mariana"   
       $.ajax({
         url: urlstr,
         dataType: "text"
       }
       ).done(function(data, testStatus, jqXHR){$("#service_test3").html("<p>Test return: </p>"  +  data)})
       .fail(function(jqXHR, textStatus, errorThrown) { alert("error: " + textStatus); });
      });
    $("#API_button2").click(function(){
       var urlstr = myhost+"publication"
       $.ajax({
         url: urlstr, 
         dataType: "text",
         accepts: {json: "application/sparql-results+json"},
         type: "get"
        }
      ).done(function(data, textStatus, jqXHR) {
         $("#service_test2").html("<p>Results of query to list publications in triple store: </p>" + publicationtable(eval( '(' + data + ')')));
      })
      .fail(function(jqXHR, textStatus, errorThrown) { alert("error: " + textStatus); });
     });
    });
  //]]>

 </script>
</body>
</html>
