<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Arachnolingua Test Page</title>
  <meta name="description" content="Test page"/>
  <meta name="author" content="Peter E. Midford"/>
  <link href="../static/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
  <link type="text/css" rel='stylesheet' href='../static/spider-behavior.css'/>
</head>

<body>
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#testpage-navbar-collapse" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://arachb.org">
          <img class="navbar-image" src="../static/spiderwords_small.jpg"  alt="spider words"/>
        </a>
      </div>
      <ul class="nav navbar-nav navbar-right">
      </ul>
      <div class= "collapse navbar-collapse" id="testpage-navbar-collapse">
        <ul class="nav navbar-nav">        
          <li>
            <a href="../index.html">Home</a>
          </li>
          <li>
            <a href="project.html">About</a>
          </li>
          <li>
            <a href="taxonomy.html">Taxonomy Status</a>
          </li>
          <li>
            <a href="curation.html">Curation</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container">
    <div class="page-header">
      <h1 class="arachb_headline">Triple Store Testing Page</h1>
    </div>

    <section id="tests">
      <div class="row-fluid">
        <div class="span12">
         <p id="test_query">Test query</p>
          <h3>Testing API calls</h3>
          <button id="API_button">Test call to taxon API</button>
          <p id="service_test">Testing API call</p>
          <br/>
          <h3>Testing API calls</h3>
          <p id="test_query2">Test query2</p>
          <button id="API_button2">Test call to publication API</button>
          <p id="service_test2">Testing API call</p>
          <h3>Testing API calls</h3>
          <p id="test_query3">Test query3</p>
          <button id="API_button3">Test call to taxon/events API</button>
          <p id="service_test3">Testing API call</p>
        </div>
      </div>
    </section>
  </div>
  <hr/>
  <footer>
    <p>Last update 16 October 2015</p>
  </footer>

  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
  </script>
  <script type="text/javascript" src="../static/publicationtable.js">
  </script>
  <script type="text/javascript" src="../static/bootstrap/js/bootstrap.min.js">
  </script>

  <script type="text/javascript"> //<![CDATA[

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30972937-1']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  //]]>

 </script>  
      
<script type="text/javascript" src="../static/env.js">    
</script>
  
 <script type="text/javascript">  //<![CDATA[
   
   $(document).ready(function(){
    $("#API_button").click(function(){
       var urlstr = myhost+"taxon?taxon=Cupiennius+salei"   
       $.ajax({
         url: urlstr,
         dataType: "text"
       }
       ).done(function(data, testStatus, jqXHR){$("#service_test").html("<p>Test return: </p>"  +  data)})
       .fail(function(jqXHR, textStatus, errorThrown) { alert("error: " + textStatus); });
      });
    $("#API_button3").click(function(){
       var urlstr = myhost+"taxon/events?taxon=Leucauge+mariana"   
       $.ajax({
         url: urlstr,
         dataType: "text"
       }
       ).done(function(data, testStatus, jqXHR){$("#service_test3").html("<p>Test return: </p>"  +  data)})
       .fail(function(jqXHR, textStatus, errorThrown) { alert("error: " + textStatus); });
      });
    $("#API_button2").click(function(){
       var urlstr = myhost+"publication"
       $.ajax({
         url: urlstr, 
         dataType: "text",
         accepts: {json: "application/sparql-results+json"},
         type: "get"
        }
      ).done(function(data, textStatus, jqXHR) {
         $("#service_test2").html("<p>Results of query to list publications in triple store: </p>" + publicationtable(eval( '(' + data + ')')));
      })
      .fail(function(jqXHR, textStatus, errorThrown) { alert("error: " + textStatus); });
     });
    });
  //]]>

 </script>
</body>
</html>
